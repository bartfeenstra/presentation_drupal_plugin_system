<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>The Drupal 8 plugin system: extensibility for all</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
        <style>
            .reveal {
                font-size: 30px;
            }
            p.attribution {
                bottom: 3%;
                display: none;
                font-size: 0.4em;
                left: 3%;
                padding: 1em;
                position: absolute;
                z-index: 999;
            }
            .attribution-active p.attribution {
                display: block;
            }
            .contrast {
                background-color: rgba(0,0,0,0.7);
            }
        </style>
	</head>

	<body>

		<div class="reveal">
            <p class="attribution contrast"></p>
			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
                <section>
                    <h1>The Drupal 8 plugin system: extensibility for all</h1>
                    <p>I am <a href="http://drupal.org/u/xano">Xano</a>, <a href="http://twitter.com/bartfeenstra">@BartFeenstra</a>, and <a href="http://mynameisbart.com">http://mynameisbart.com</a>.</p>
                </section>
                <section class="contrast" data-background="./images/socket.jpg" data-state="attribution-active socket">
                    <style>.socket .attribution:after { content: '© idea-saras @ Flickr (CC BY 2.0)'; }</style>
                    <h1>What are plugins?</h1>
                    <ul>
                        <li class="fragment">Swappable extensions that provide logic for a specific (set of) task(s)</li>
                        <li class="fragment">Uniquely identifiable</li>
                        <li class="fragment">Metadata</li>
                        <li class="fragment">Multiple instances can co-exist (reuse)</li>
                    </ul>
                </section>
                <section class="contrast" data-background="./images/druplicon.svg" data-state="attribution-active druplicon">
                    <style>.druplicon .attribution:after { content: '(GPLv2)'; }</style>
                    <h1>Drupal 7 plugins</h1>
                    <ul>
                        <li class="fragment">Hook discovery (core and most contributed modules)</li>
                        <li class="fragment">File-based discovery (ctools)</li>
                        <li class="fragment">Magic hooks/callbacks/includes</li>
                        <li class="fragment">Some plugins are classed</li>
                    </ul>
                </section>
                <section data-background="./images/confusion.jpg" data-state="attribution-active confusion">
                    <style>.confusion .attribution:after { content: "© mn_francis @ Flickr (CC BY-NC 2.0)"; }</style>
                    <h1 class="contrast">Say what?</h1>
                </section>
                <section class="contrast" data-background="./images/drupal-8.svg" data-state="attribution-active drupal-8">
                    <style>.drupal-8 .attribution:after { content: '(GPLv2)'; }</style>
                    <h1>Drupal 8 plugins</h1>
                    <ul>
                        <li class="fragment">Are classed. Always.</li>
                        <li class="fragment">Should implement interfaces.</li>
                        <li class="fragment">Consistent API for discovering and instantiating plugins, regardless of type.</li>
                    </ul>
                </section>
                <section data-background="./images/evil-wizard.jpg" data-state="attribution-active evil-wizard">
                    <style>.evil-wizard .attribution:after { content: "© julochka @ Flickr (CC BY-NC 2.0)"; }</style>
                    <h1 class="contrast">No more dark magic</h1>
                </section>
                <section>
                    <section data-background="./images/jargon.jpg" data-state="attribution-active jargon">
                        <style>.jargon .attribution:after { content: "© subsetsum @ Flickr (CC BY-NC-ND 2.0)"; }</style>
                        <h1 class="contrast">Jargon, do you speak it?</h1>
                    </section>
                    <section data-background="./images/type.jpg" data-state="attribution-active type">
                        <style>.type .attribution:after { content: "© tunruh @ Flickr (CC BY-ND 2.0)"; }</style>
                        <h1 class="contrast">Plugin type</h1>
                    </section>
                    <section data-background="./images/definition.jpg" data-state="attribution-active definition">
                        <style>.definition .attribution:after { content: "© jwyg @ Flickr (CC BY-SA 2.0)"; }</style>
                        <h1 class="contrast">Plugin (definition)</h1>
                    </section>
                    <section data-background="./images/discovery.jpg" data-state="attribution-active discovery">
                        <style>.discovery .attribution:after { content: "© dlr_de @ Flickr (CC BY-NC-ND 2.0)"; }</style>
                        <h1 class="contrast">Plugin discovery</h1>
                    </section>
                    <section data-background="./images/factory.jpg" data-state="attribution-active factory">
                        <style>.factory .attribution:after { content: "© spenceyc @ Flickr (CC BY-ND 2.0)"; }</style>
                        <h1 class="contrast">Plugin factory</h1>
                    </section>
                    <section data-background="./images/toolbox.jpg" data-state="attribution-active toolbox">
                        <style>.toolbox .attribution:after { content: "© jlgriffiths @ Flickr (CC BY-NC-ND 2.0)"; }</style>
                        <h1 class="contrast">Plugin manager (discovery + factory + ...)</h1>
                    </section>
                    <section data-background="./images/uncommon-objects.jpg" data-state="attribution-active uncommon-objects">
                        <style>.uncommon-objects .attribution:after { content: "© johnymutton @ Flickr (CC BY-NC-ND 2.0)"; }</style>
                        <h1 class="contrast">Plugin instance</h1>
                    </section>
                    <section data-background="./images/clockwork.jpg" data-state="attribution-active clockwork">
                        <style>.clockwork .attribution:after { content: "© guysie @ Flickr (CC BY-SA 2.0)"; }</style>
                        <h1 class="contrast">Plugin configuration</h1>
                        <p></p>
                    </section>
                </section>
                <section class="contrast" data-background="./images/recreate.jpg" data-state="attribution-active recreate">
                    <style>.recreate .attribution:after { content: "© capedcrusader @ Flickr (CC BY-NC-ND 2.0)"; }</style>
                    <h1 >Recreating/cloning plugin instances</h1>
                    <p>Using Plugin type/manager, ID, and configuration through <code>ConfigurablePluginInterface</code>.</p>
                </section>
                <section class="contrast" data-background="./images/discovery-2.jpg" data-state="attribution-active discovery-2">
                    <style>.discovery-2 .attribution:after { content: "© skynoir @ Flickr (CC BY-NC 2.0)"; }</style>
                    <h1>Discovery methods</h1>
                    <ul>
                        <li class="fragment">Annotated class discovery (mostly different logic)</li>
                        <li class="fragment">YAML discovery (mostly reused logic)</li>
                        <li class="fragment">Static discovery (testing)</li>
                        <li class="fragment">Hook discovery (deprecated)</li>
                    </ul>
                </section>
                <section class="contrast" data-background="./images/post-its.jpg" data-state="attribution-active post-its">
                    <style>.post-its .attribution:after { content: "© ableman @ Flickr (CC BY-NC-ND 2.0)"; }</style>
                    <h1>Annotated class discovery</h1>
                        <pre>
                        <code>
&lt;?php
/**
 * The plugin that handles Data response callbacks for REST resources.
 *
 * @ingroup views_display_plugins
 *
 * @ViewsDisplay(
 *   id = "rest_export",
 *   title = @Translation("REST export"),
 *   help = @Translation("Create a REST export resource."),
 *   uses_route = TRUE,
 *   admin = @Translation("REST export"),
 *   returns_response = TRUE
 * )
 */
class RestExport extends PathPluginBase implements ResponseDisplayPluginInterface {
    // Class contents here...
}
?&gt;
                    </code>
                    </pre>
                </section>
                <section class="contrast" data-background="./images/sunrise.jpg" data-state="attribution-active sunrise">
                    <style>.sunrise .attribution:after { content: "© matthiasb2009 @ Flickr (CC BY-SA 2.0)"; }</style>
                    <h1>YAML discovery</h1>
                        <pre>
                        <code>
system.admin:
  title: Administration
  route_name: system.admin
  weight: 9
  menu_name: admin
system.admin_content:
  title: Content
  description: 'Find and manage content.'
  route_name: system.admin_content
  parent: system.admin
  weight: -10
system.admin_structure:
  route_name: system.admin_structure
  parent: system.admin
  description: 'Administer blocks, content types, menus, etc.'
  title: Structure
  weight: -8
                    </code>
                    </pre>
                </section>
                <section data-background="./images/paperwork.jpg" data-state="attribution-active paperwork">
                    <style>.paperwork .attribution:after { content: "© bourgeoisbee @ Flickr (CC BY-NC 2.0)"; }</style>
                    <h1 class="contrast">Forms</h1>
                </section>
                <section class="contrast" data-background="./images/bottles.jpg" data-state="attribution-active bottles">
                    <style>.bottles .attribution:after { content: "© 64525258@N00 @ Flickr (CC BY-NC-ND 2.0)"; }</style>
                    <h1>Derivatives</h1>
                    <p>One base plugin definition can be dynamically expanded into multiple derivative plugin definitions.</p>
                </section>
                <section>
                    <section class="contrast" data-background="./images/soyuz.jpg" data-state="attribution-active soyuz">
                        <style>.soyuz .attribution:after { content: "© nasa2explore @ Flickr (CC BY-NC 2.0)"; }</style>
                        <h1>There's a module for that</h1>
                        <p><a href="http://drupal.org/project/plugin">http://drupal.org/project/plugin</a></p>
                    </section>
                    <section class="contrast" data-background="./images/type-2.jpg" data-state="attribution-active type-2">
                        <style>.type-2 .attribution:after { content: "© vpickering @ Flickr (CC BY-NC-ND 2.0)"; }</style>
                        <h1>Plugin type discovery</h1>
                        <p><code>$module.plugin_type.yml</code></p>
                        <pre>
                        <code>
plugin_selector:
    label: Plugin selector
    plugin_manager_service_id: plugin.manager.plugin.plugin_selector
    plugin_definition_decorator_class: \Drupal\plugin\PluginDefinition\ArrayPluginDefinitionDecorator
                        </code>
                    </pre>
                    </section>
                    <section data-background="./images/aerial-view.jpg" data-state="attribution-active aerial-view">
                        <style>.aerial-view .attribution:after { content: "© ter-burg @ Flickr (CC BY-SA 2.0)"; }</style>
                        <h1 class="contrast">Administrative overview</h1>
                    </section>
                    <section class="contrast" data-background="./images/tube-map.jpg" data-state="attribution-active tube-map">
                        <style>.tube-map .attribution:after { content: "© 24736216@N07 @ Flickr ((CC BY-SA 2.0)"; }</style>
                        <h1>Configuration schemas</h1>
                        <p><code>plugin.plugin_configuration.*.*</code></p>
                    </section>
                    <section class="contrast" data-background="./images/funnel.jpg" data-state="attribution-active funnel">
                        <style>.funnel .attribution:after { content: "© fdctsevilla @ Flickr (CC BY 2.0)"; }</style>
                        <h1>Typed plugin definition API</h1>
                        <p><code>PluginDefinitionInterface</code></p>
                    </section>
                    <section data-background="./images/cursor.jpg" data-state="attribution-active cursor">
                        <style>.cursor .attribution:after { content: "© 86530412@N02 @ Flickr (CC BY 2.0)"; }</style>
                        <h1 class="contrast">Plugin selectors</h1>
                    </section>
                    <section data-background="./images/wheat-field.jpg" data-state="attribution-active wheat-field">
                        <style>.wheat-field .attribution:after { content: "© jaako @ Flickr (CC BY-NC 2.0)"; }</style>
                        <h1 class="contrast">Field types/widgets/formatters</h1>
                    </section>
                </section>
                <section>
                    <h1>Conclusion</h1>
                    <h2>Extending Drupal has never been easier.</h2>
                    <p class="fragment">Review this presentation at <a href="http://slideshare.net/bartfeenstra">http://slideshare.net/bartfeenstra</a>.</p>
                    <p class="fragment">Find the Plugin module at <a href="http://drupal.org/project/plugin">http://drupal.org/project/plugin</a>.</p>
                    <p class="fragment">I am <a href="http://drupal.org/u/xano">Xano</a>, <a href="http://twitter.com/bartfeenstra">@BartFeenstra</a>, and <a href="http://mynameisbart.com">http://mynameisbart.com</a>.</p>
                    <h2 class="fragment">Do you have any questions?</h2>
                </section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: false,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
